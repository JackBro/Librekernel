The Target of this document is to explain how to obtain the all banks WW for not enrouting this traffic via SQUID by an exception in iptables.
Then the Banks traffic wont be bumped for security reasons.
The requested list is and file with
bankname    bankcompletedomain      ip x.x.x.x    reversedns

Source for the bank names:
wget & parse 
https://www.thebankerdatabase.com/index.cfm/banks/all/?letter=A
https://en.wikipedia.org/wiki/List_of_banks_(alphabetically)
https://www.thebankerdatabase.com/index.cfm/banks/all/
http://www.allbanks.org/main/list/0.html
http://pugahome.tripod.com/allbanks.htm

Combine and clear repeated.
Shodan and www.robtex.com/?q=bank
are special because provide additional valuable info about reverse entries and diferent records.
Not clear how to  scrap organized infor from there.


After that

a)Search IP block via BGP AS that belongs to bank
b)take the bank names and serach for domains of them
c)same for subdomains.
d)same for reverse dns entries

Tools for finding subdomains:
https://github.com/guelfoweb/knock
https://github.com/aboul3la/Sublist3r
https://github.com/rbsec/dnscan
https://github.com/TheRook/subbrute
https://github.com/jhaddix/domain
https://github.com/tomsteele/blacksheepwall
https://code.google.com/archive/p/gxfr/



3. We going to use finder for AS numbers for the banks. bgp.he.net website, wait a moment until the website validate my browser.
--> Click "IP Info" and I got the IP of the bank, 195.34.182.132. Also I got the provider that provide service to the bank, INTERNET AG Global network, and the AS number AS8495, also the IPs block that was used by the Provider 195.34.160.0/19. But, there's no the IP block of the banks, first, I can guess from the IP, usually bank will use /24, sometimes they used more, on this situation I need to scan the ips block "195.34.160.0/19" to find domain related to the bank, there's two options, scan all ips block or scan by separate on each 256 hosts. metasploit auxiliary DNS modules (auxiliary/gather/dns_reverse_lookup)

3.5 the output of the number 2 and 2.1 we just need resolve the domain in to IP.

6. How do I use the DNS modules?
--> type msfconsole, until it show like this "msf > "
--> type search dns_reverse_lookup
--> then choose "auxiliary/gather/dns_reverse_lookup", there are another dns_reverse_lookup it's use for post exploitation, ensure choose the "auxiliary".
--> type use auxiliary/gather/dns_reverse_lookup
--> type show options
--> it will shown 3 options with one required (mandatory) option, it's a "RANGE" option.
--> type set RANGE 1.2.3.4/x
which 1.2.3.4 target IP, /x it's a subnet mask
--> type run
--> waiting for the results

7. Webscapping: ipaddress.comyougetsignal.com
